import{r as f,w as y,o as T,c as C,a,b as R,v as S,t as p,F as D,d as _,e as E}from"./vendor.7d848a26.js";const F=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function c(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=c(o);fetch(o.href,s)}};F();const O=_(" GZipped "),z=a("hr",null,null,-1),A={class:"receivedLength"},G=_(" of "),V={class:"contentLength"},Z=a("hr",null,null,-1),j={class:"percent"},q=_(" downloaded. "),I=a("hr",null,null,-1),K={class:"warning"},H={setup(w){const l=f(!0),c=f(0),i=f(0),o=f("0"),s=f("");y(async()=>{c.value=0,i.value=0,o.value="0";const e=await fetch("./[.dir-scan] 2022.01.09.json"+(l.value?".gz":""));M({response:e,onProgress:(t,n)=>{u(t,n),b(t,n)}})}),y(()=>{parseFloat(o.value)>100?s.value="% is more than 100":s.value=""});function u(e,t){c.value=e,i.value=t,o.value=(e/t*100+"").substring(0,5)}function g(e){if(e<1024)return e+" B";const t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let n=Math.floor(Math.log(e)/Math.log(1024)),r=e/Math.pow(1024,n);return r>=1e3&&(n++,r/=1024),B(r)+" "+t[n]}function B(e){let t;return e<10?t=Math.trunc(e*100)/100:e<100?t=Math.trunc(e*10)/10:e<1e3&&(t=Math.trunc(e)),e<.1?t.toPrecision(1):e<1?t.toPrecision(2):t.toPrecision(3)}function M({response:e,onProgress:t,contentLength:n,contentType:r}){if(!t)return e;if(n=n||parseInt(e.headers.get("Content-Length")),r=r||e.headers.get("Content-Type"),console.log("Content-Length: ",n),isNaN(n))return console.warn("Content-Length is NaN:",n),e;let d=0;const h=e.body.getReader(),x=new ReadableStream({async start(m){for(;;){const{done:N,value:v}=await h.read();if(N)break;d+=v.length;try{t(d,n,v,r)}catch(k){console.error("onProgress error:",k)}m.enqueue(v)}m.close(),h.releaseLock()},cancel(){h.cancel()}});return new Response(x,{status:e.status,statusText:e.statusText,headers:e.headers})}const P=L();function L(){let e,t;return function(r,d=!1){if(!e||d){r(),e=!0,clearTimeout(t),t=null;return}e=r,!t&&(t=setTimeout(()=>{e(),t=null},2e3))}}function b(e,t){if(!t)return;const n=e/t,r=(n*100+"").substring(0,4)+" % of "+g(t);P(()=>{console.log(r)},n===1)}return(e,t)=>(T(),C(D,null,[a("label",null,[R(a("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n)},null,512),[[S,l.value]]),O]),z,a("span",A,p(g(c.value)),1),G,a("span",V,p(g(i.value)),1),Z,a("span",j,p(o.value)+" %",1),q,I,a("div",K,p(s.value),1)],64))}};E(H).mount("#app");
